# GUI 새로운 기능 가이드

## 추가된 기능

### 1. 제외 폴더 설정 (Exclude Folders Configuration)

GUI에서 동적으로 제외할 폴더를 추가/제거할 수 있습니다.

#### 기능:
- **추가**: 새로운 폴더명을 제외 목록에 추가
- **제거**: 목록에서 폴더명을 선택해서 제거
- **기본값 복원**: 원래 제외 목록으로 복원

#### 사용 방법:
1. GUI의 "제외 폴더 설정" 섹션 확인
2. 현재 제외된 폴더들이 표시됨
3. "추가" 버튼 클릭 → 폴더명 입력 → 추가
4. "제거" 버튼 클릭 → 제거할 폴더 선택 → 제거

#### 기본 제외 폴더:
```
.git, .svn, __pycache__, node_modules,
.venv, venv, .idea, .vscode,
_OrganizedFiles, $RECYCLE.BIN, System Volume Information,
.cache, .npm, .yarn, dist, build, target, file_organizer
```

### 2. 파일 정리 미리보기 (Preview)

**"미리보기" 버튼을 클릭하면 실행 전 파일 이동 계획을 확인할 수 있습니다.**

#### 포함되는 정보:

##### 탭1: 분류 예정 파일
- 파일명
- 현재 위치
- 이동 예정 경로
- 할당된 카테고리
- 최대 100개까지 표시

##### 탭2: 중복 파일
- 중복 그룹별 파일 목록
- 각 파일의 위치
- 파일 크기
- **절약 가능한 용량 표시**
- 최대 50개 그룹까지 표시

##### 탭3: 종합 통계
- 전체 스캔 파일 수
- 분류될 파일 수 및 주요 카테고리
- 중복 파일 통계
- 현재 설정 요약

#### 사용 방법:
1. 대상 폴더와 저장 폴더 설정 완료
2. 정리 옵션 설정 (중복 처리, 분류 여부 등)
3. **"미리보기" 버튼 클릭**
4. 미리보기 창에서 상세 정보 확인
5. 확인 후 "실행" 버튼으로 실제 실행

#### 장점:
✅ **안전함**: 실제 파일 이동 전 확인 가능  
✅ **명확함**: 어떤 파일이 어디로 갈지 정확히 표시  
✅ **효율적**: 절약 가능한 용량 미리 확인  
✅ **빠름**: 최대 100개/50개만 표시하여 빠른 응답  

## 통합 사용 예시

### 예시: Downloads 폴더 정리

```
1. GUI 실행
   python main.py --gui

2. 폴더 설정
   - 대상 폴더: C:\Users\username\Downloads
   - 저장 폴더: C:\Users\username\Organized

3. 제외 폴더 설정
   - 기본값에서 "Downloads" 폴더 추가 제외
   - "my_important_project" 추가 제외

4. 정리 옵션 설정
   - ✓ 중복 파일 처리
   - ✓ 문서/이미지 주제별 분류
   - ✓ 연도별 폴더 생성
   - ✓ 완료 후 빈 폴더 정리

5. 미리보기 실행
   - "미리보기" 버튼 클릭
   - 파일이 어떻게 정리될지 확인
   - 중복 파일로 절약할 용량 확인

6. 실행
   - 설정이 맞으면 "실행" 버튼 클릭
   - 진행상황을 로그에서 모니터링
   - 완료 메시지 확인
```

## 구현 상세

### 제외 폴더 설정 메커니즘

```python
# GUI에서 제외 폴더 설정
self._excluded_set = self.DEFAULT_EXCLUDED.copy()  # 기본값으로 시작
self._update_excluded_display()  # UI 업데이트

# Organizer에 전달
config.excluded_dirs = self._excluded_set.copy()
organizer = FileOrganizer(config)
```

### 미리보기 수집 프로세스

1. **스캔**: 대상 폴더의 모든 파일 스캔
2. **분류**: 분류 옵션에 따라 파일 분류 수행
3. **중복 탐지**: SHA256 해싱으로 중복 파일 찾기
4. **미리보기 데이터 구성**:
   - 분류된 파일의 대상 경로 계산
   - 중복 파일 그룹화 및 절약 용량 계산
   - 통계 정보 수집
5. **UI 표시**: Tkinter Treeview로 트리 구조로 표시

### 성능 최적화

- **스레드**: 미리보기 수집을 별도 스레드에서 처리 (UI 반응성 유지)
- **제한**: 대규모 폴더에서도 빠른 응답 (최대 100/50개만 표시)
- **캐싱**: 미리보기 데이터 캐시 (필요시 재사용)

## 트러블슈팅

### 미리보기가 매우 느린 경우:
- 제외 폴더 설정에서 불필요한 큰 폴더 제외
- 네트워크 드라이브 사용 시 로컬 폴더로 변경

### 미리보기 창이 표시되지 않는 경우:
- 대상 폴더가 실제로 존재하는지 확인
- 읽기 권한이 있는지 확인
- 로그 창에서 오류 메시지 확인

### 제외 폴더가 적용되지 않는 경우:
- 정리 실행 전에 제외 폴더 설정 확인
- "미리보기"에서 제외 폴더가 스캔되지 않았는지 확인
